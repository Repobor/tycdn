import{a as d,T as i,U as k}from"./index.df009344.js";import{D as v,r as c,e as f,o as _,c as g,z as x,a as t,J as m,ag as h,S as b}from"./@vue.a9411cd4.js";import"./pinia.27fdb009.js";import"./vue-demi.237d1bfa.js";import"./vue3-lazyload.76288b1e.js";import"./vue-router.f1a6a0d1.js";import"./nprogress.f46f69d2.js";import"./clone-deep.292945d4.js";import"./shallow-clone.95d3ae69.js";import"./kind-of.db8547f8.js";import"./is-plain-object.c8a6e606.js";import"./isobject.b90498ab.js";import"./axios.3a678d80.js";import"./form-data.18640493.js";import"./element-plus.254419c7.js";import"./dayjs.ba0a1193.js";import"./@element-plus.d7dd3bba.js";import"./lodash-es.f14d6700.js";import"./@vueuse.8f037a30.js";import"./async-validator.ca741037.js";import"./@sxzz.30ebe6b1.js";import"./escape-html.10c6516a.js";import"./normalize-wheel-es.65bdcd5b.js";import"./@ctrl.70544517.js";import"./theme-change.990675dd.js";const B=v({__name:"index",setup(p){const r=c();c();function l(){return typeof window.vaptcha=="function"?Promise.resolve():new Promise(o=>{const e=document.createElement("script");e.src="https://v.vaptcha.com/v3.js",e.async=!0,e.onload=e.onreadystatechange=function(){(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")&&(o(),e.onload=e.onreadystatechange=null)},document.getElementsByTagName("head")[0].appendChild(e)})}return f(()=>{const o={vid:"63a12115cdf7d074d80a50d6",mode:"click",scene:1,container:r.value,style:"light",color:"#66FFCC",lang:"auto",area:"auto"};l().then(()=>{window.vaptcha(o).then(e=>{window.vaptchaObj=e,e.listen("pass",()=>{const a=e.getServerToken();d.verify.token=a.token,d.verify.server=a.server}),e.listen("close",()=>{e.reset()}),e.render()})})}),(o,e)=>(_(),g("div",{ref_key:"vaptcha",ref:r,style:{width:"100%",height:"36px"}},null,512))}}),E={class:"hero min-h-screen bg-base-100"},F={class:"hero-content flex-col lg:flex-row-reverse"},C=t("div",{class:"text-center lg:text-left"},[t("h1",{class:"text-5xl font-bold"}," Login now! "),t("p",{id:"hitokoto",class:"py-6"},[t("a",{id:"hitokoto_text",href:"#"},":D \u83B7\u53D6\u4E2D...")])],-1),S={class:"card w-full max-w-sm shrink-0 bg-base-100 shadow-2xl"},D={class:"card-body"},T={class:"form-control"},U=t("label",{class:"label"},[t("span",{class:"label-text"},"Username")],-1),L={class:"form-control"},V=t("label",{class:"label"},[t("span",{class:"label-text"},"Password")],-1),N=t("label",{class:"label"},[t("a",{href:"#",class:"link-hover label-text-alt link"},"Forgot password?")],-1),re=v({__name:"index",props:{redirect:null},setup(p){const r=p;function l(s){if(s.key==="Enter"){const n=s.target;n.id==="username"?document.getElementById("password")?.focus():n.id==="password"&&a()}}f(()=>{window.addEventListener("keydown",l);const s=document.createElement("script");s.src="https://v1.hitokoto.cn/?encode=js&select=%23hitokoto&min_length=40&max_length=60",s.defer=!0,document.getElementsByTagName("head")[0].appendChild(s)}),x(()=>{window.removeEventListener("keydown",l)});const o=c(),e=c();function a(){o.value==null||e.value==null||o.value.length===0||e.value.length===0?i.error("\u8F93\u5165\u7684\u5185\u5BB9\u6709\u8BEF"):d.user.login(o.value,e.value,r.redirect)}function w(){if(o.value==null||e.value==null||o.value.length===0||e.value.length===0){i.error("\u8F93\u5165\u7684\u5185\u5BB9\u6709\u8BEF");return}k.create(o.value,e.value).then(s=>{s?.code===0&&i.info("\u6CE8\u518C\u6210\u529F\uFF0C\u8BF7\u767B\u5F55")}).catch(s=>{i.error(s)})}return(s,n)=>{const y=B;return _(),g("div",E,[t("div",F,[C,t("div",S,[t("div",D,[t("form",null,[t("div",T,[U,m(t("input",{id:"username","onUpdate:modelValue":n[0]||(n[0]=u=>o.value=u),type:"text",placeholder:"\u7528\u6237\u540D",class:"input-bordered input"},null,512),[[h,o.value]])]),t("div",L,[V,m(t("input",{id:"password","onUpdate:modelValue":n[1]||(n[1]=u=>e.value=u),type:"password",placeholder:"\u5BC6\u7801",autocomplete:"on",class:"w-full input-bordered input"},null,512),[[h,e.value]]),N])]),b(y),t("div",{class:"form-control mt-6"},[t("input",{type:"button",class:"btn-primary btn",value:"Login",onClick:a})]),t("div",{class:"form-control mt-6"},[t("button",{class:"btn-secondary btn",onClick:w}," Register ")])])])])])}}});export{re as default};
