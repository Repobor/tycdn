var h=/(\*|\?)/g;function f(e,t){this.text=e=e||"",this.hasWild=e.indexOf("*")>=0,this.separator=t,this.parts=e.split(t).map(this.classifyPart.bind(this))}f.prototype.match=function(e){var t=!0,i=this.parts,s,n=i.length,r;if(typeof e=="string"||e instanceof String)if(!this.hasWild&&this.text!=e)t=!1;else{for(r=(e||"").split(this.separator),s=0;t&&s<n;s++)i[s]!=="*"&&(s<r.length?t=i[s]instanceof RegExp?i[s].test(r[s]):i[s]===r[s]:t=!1);t=t&&r}else if(typeof e.splice=="function")for(t=[],s=e.length;s--;)this.match(e[s])&&(t[t.length]=e[s]);else if(typeof e=="object"){t={};for(var a in e)this.match(a)&&(t[a]=e[a])}return t};f.prototype.classifyPart=function(e){return e==="*"?e:e.indexOf("*")>=0||e.indexOf("?")>=0?new RegExp(e.replace(h,".$1")):e};var o=function(e,t,i){var s=new f(e,i||/[\/\.]/);return typeof t<"u"?s.match(t):s};export{o as w};
